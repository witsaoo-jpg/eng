<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ ‡∏ù‡∏∂‡∏Å‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce-dot {
            animation: bounce 1s infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 min-h-screen">
    
    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå -->
    <div id="scenarioSelection" class="p-4">
        <div class="max-w-4xl mx-auto py-8">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600 mb-4">
                    üéØ ‡∏ù‡∏∂‡∏Å‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
                </h1>
                <p class="text-xl text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ù‡∏∂‡∏Å</p>
                <div class="mt-4 inline-flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-full">
                    <span class="text-2xl">ü§ñ</span>
                    <span class="font-medium">AI ‡∏à‡∏∞‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå!</span>
                </div>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="scenarioGrid"></div>

            <div class="mt-12 bg-white rounded-2xl p-6 shadow-lg">
                <h3 class="font-bold text-gray-800 mb-4 flex items-center gap-2">
                    üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                </h3>
                <ul class="space-y-2 text-gray-600">
                    <li>‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å</li>
                    <li>üé§ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</li>
                    <li>ü§ñ AI ‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á</li>
                    <li>üí¨ ‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏à‡∏£‡∏¥‡∏á</li>
                    <li>üîÑ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏ô‡∏ó‡∏ô‡∏≤ -->
    <div id="conversationView" class="hidden flex flex-col h-screen">
        <!-- Header -->
        <div class="bg-white shadow-md p-4">
            <div class="max-w-4xl mx-auto flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <span class="text-3xl" id="scenarioIcon"></span>
                    <div>
                        <h2 class="font-bold text-gray-800" id="scenarioTitle"></h2>
                        <p class="text-sm text-gray-500">‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏Å‡∏±‡∏ö AI</p>
                    </div>
                </div>
                <button onclick="resetConversation()" class="flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition">
                    <span>üîÑ</span>
                    <span class="hidden sm:inline">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå</span>
                </button>
            </div>
        </div>

        <!-- Messages -->
        <div class="flex-1 overflow-y-auto p-4" id="messagesContainer">
            <div class="max-w-4xl mx-auto space-y-4" id="messagesList"></div>
        </div>

        <!-- Input -->
        <div class="bg-white border-t p-4">
            <div class="max-w-4xl mx-auto">
                <div id="aiSpeakingIndicator" class="mb-3 text-center hidden">
                    <span class="inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm">
                        <span>üîä</span>
                        AI ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏π‡∏î...
                    </span>
                </div>
                
                <div class="flex gap-2">
                    <input type="text" id="messageInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°... ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î" 
                        class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-purple-400">
                    <button onclick="sendMessage()" id="sendBtn" class="px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition">
                        ‚úâÔ∏è
                    </button>
                    <button onclick="startListening()" id="micBtn" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl hover:from-purple-700 hover:to-blue-700 transition">
                        üé§
                    </button>
                </div>

                <p class="text-center text-xs text-gray-500 mt-2" id="statusText">
                    ‡∏Å‡∏î‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                </p>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå
        const scenarios = [
            {
                id: 1,
                title: "üçï ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô",
                icon: "üçï",
                systemPrompt: "You are a friendly waiter at a restaurant. Have a natural conversation with the customer. Keep responses SHORT (1-2 sentences max). Help them order food, ask about preferences, and be helpful. Speak naturally and casually.",
                greeting: "Hi! Welcome to our restaurant. What can I get for you today?"
            },
            {
                id: 2,
                title: "‚úàÔ∏è ‡∏ó‡∏µ‡πà‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô",
                icon: "‚úàÔ∏è",
                systemPrompt: "You are a helpful airport staff member. Have a natural conversation assisting with check-in, baggage, flight information. Keep responses SHORT (1-2 sentences max). Be professional but friendly.",
                greeting: "Hello! Welcome to the airport. How can I help you today?"
            },
            {
                id: 3,
                title: "üõí ‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô",
                icon: "üõí",
                systemPrompt: "You are a friendly shop assistant. Help the customer find items, discuss prices, and make recommendations. Keep responses SHORT (1-2 sentences max). Be helpful and enthusiastic.",
                greeting: "Hi there! Welcome to our store. What are you looking for?"
            },
            {
                id: 4,
                title: "‚òï ‡∏™‡∏±‡πà‡∏á‡∏Å‡∏≤‡πÅ‡∏ü",
                icon: "‚òï",
                systemPrompt: "You are a cheerful barista at a coffee shop. Take orders, suggest drinks, chat about coffee. Keep responses SHORT (1-2 sentences max). Be warm and friendly.",
                greeting: "Hey! What can I make for you today?"
            },
            {
                id: 5,
                title: "üè® ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏° Check-in",
                icon: "üè®",
                systemPrompt: "You are a polite hotel receptionist. Help with check-in, room requests, and hotel information. Keep responses SHORT (1-2 sentences max). Be professional and courteous.",
                greeting: "Good day! Welcome to our hotel. Checking in?"
            },
            {
                id: 6,
                title: "üí¨ ‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
                icon: "üí¨",
                systemPrompt: "You are a friendly English conversation partner. Chat naturally about daily life, hobbies, interests. Keep responses SHORT (1-2 sentences max). Ask follow-up questions to keep conversation going.",
                greeting: "Hey! How's it going? What would you like to talk about?"
            }
        ];

        let currentScenario = null;
        let messages = [];
        let recognition = null;
        let isListening = false;
        let isAISpeaking = false;

        // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå
        function renderScenarios() {
            const grid = document.getElementById('scenarioGrid');
            grid.innerHTML = scenarios.map(s => `
                <button onclick="startScenario(${s.id})" class="bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all hover:scale-105 text-left group">
                    <div class="text-5xl mb-4 group-hover:scale-110 transition-transform">${s.icon}</div>
                    <h3 class="text-lg font-bold text-gray-800 group-hover:text-purple-600 transition">${s.title}</h3>
                </button>
            `).join('');
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå
        function startScenario(id) {
            currentScenario = scenarios.find(s => s.id === id);
            messages = [{ role: 'assistant', content: currentScenario.greeting }];
            
            document.getElementById('scenarioSelection').classList.add('hidden');
            document.getElementById('conversationView').classList.remove('hidden');
            document.getElementById('scenarioIcon').textContent = currentScenario.icon;
            document.getElementById('scenarioTitle').textContent = currentScenario.title;
            
            renderMessages();
            speakText(currentScenario.greeting);
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        function renderMessages() {
            const list = document.getElementById('messagesList');
            list.innerHTML = messages.map(msg => `
                <div class="flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}">
                    <div class="max-w-[80%] rounded-2xl px-5 py-3 ${
                        msg.role === 'user' 
                            ? 'bg-purple-600 text-white' 
                            : 'bg-white text-gray-800 shadow-md'
                    }">
                        <p class="text-base leading-relaxed">${msg.content}</p>
                    </div>
                </div>
            `).join('');
            
            list.scrollTop = list.scrollHeight;
        }

        // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        async function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            
            if (!text || !currentScenario) return;
            
            messages.push({ role: 'user', content: text });
            input.value = '';
            renderMessages();
            
            showThinking();
            
            try {
                const response = await fetch('https://api.anthropic.com/v1/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: 'claude-sonnet-4-20250514',
                        max_tokens: 150,
                        system: currentScenario.systemPrompt,
                        messages: messages.map(msg => ({
                            role: msg.role === 'assistant' ? 'assistant' : 'user',
                            content: msg.content
                        }))
                    })
                });

                const data = await response.json();
                const aiResponse = data.content[0].text;
                
                hideThinking();
                messages.push({ role: 'assistant', content: aiResponse });
                renderMessages();
                speakText(aiResponse);

            } catch (error) {
                console.error('Error:', error);
                hideThinking();
                const errorMsg = "Sorry, I didn't catch that. Could you say it again?";
                messages.push({ role: 'assistant', content: errorMsg });
                renderMessages();
                speakText(errorMsg);
            }
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ thinking
        function showThinking() {
            const list = document.getElementById('messagesList');
            const thinkingDiv = document.createElement('div');
            thinkingDiv.id = 'thinking';
            thinkingDiv.className = 'flex justify-start';
            thinkingDiv.innerHTML = `
                <div class="bg-white rounded-2xl px-5 py-3 shadow-md">
                    <div class="flex gap-2">
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce-dot" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
            list.appendChild(thinkingDiv);
            list.scrollTop = list.scrollHeight;
        }

        function hideThinking() {
            const thinking = document.getElementById('thinking');
            if (thinking) thinking.remove();
        }

        // ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        function speakText(text) {
            window.speechSynthesis.cancel();
            
            // ‡∏£‡∏≠‡πÉ‡∏´‡πâ voices ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
            let voices = window.speechSynthesis.getVoices();
            if (voices.length === 0) {
                window.speechSynthesis.onvoiceschanged = () => {
                    voices = window.speechSynthesis.getVoices();
                    speakWithVoice(text, voices);
                };
            } else {
                speakWithVoice(text, voices);
            }
        }

        function speakWithVoice(text, voices) {
            const utterance = new SpeechSynthesisUtterance(text);
            
            // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î - ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
            const preferredVoices = [
                'Google US English',
                'Google UK English Female',
                'Microsoft Zira',
                'Microsoft David',
                'Samantha',
                'Alex',
                'Karen',
                'Daniel'
            ];
            
            // ‡∏´‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
            let selectedVoice = null;
            
            // ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô
            for (let preferred of preferredVoices) {
                selectedVoice = voices.find(voice => 
                    voice.name.includes(preferred) && voice.lang.startsWith('en')
                );
                if (selectedVoice) break;
            }
            
            // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÅ‡∏ö‡∏ö natural
            if (!selectedVoice) {
                selectedVoice = voices.find(voice => 
                    voice.lang.startsWith('en') && 
                    (voice.name.includes('Natural') || voice.name.includes('Premium'))
                );
            }
            
            // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å
            if (!selectedVoice) {
                selectedVoice = voices.find(voice => voice.lang.startsWith('en'));
            }
            
            if (selectedVoice) {
                utterance.voice = selectedVoice;
            }
            
            utterance.lang = 'en-US';
            utterance.rate = 0.95;  // ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
            utterance.pitch = 1.0;   // ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏Å‡∏ï‡∏¥
            utterance.volume = 1.0;  // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡πÄ‡∏ï‡πá‡∏°
            
            utterance.onstart = () => {
                isAISpeaking = true;
                document.getElementById('aiSpeakingIndicator').classList.remove('hidden');
                updateButtons();
            };
            
            utterance.onend = () => {
                isAISpeaking = false;
                document.getElementById('aiSpeakingIndicator').classList.add('hidden');
                updateButtons();
            };
            
            window.speechSynthesis.speak(utterance);
        }

        // Speech Recognition
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';

                recognition.onresult = (event) => {
                    const text = event.results[0][0].transcript;
                    document.getElementById('messageInput').value = text;
                    isListening = false;
                    updateButtons();
                    sendMessage();
                };

                recognition.onerror = (event) => {
                    console.error('Speech recognition error:', event.error);
                    isListening = false;
                    updateButtons();
                };

                recognition.onend = () => {
                    isListening = false;
                    updateButtons();
                };
            }
        }

        function startListening() {
            if (recognition && !isListening && !isAISpeaking) {
                isListening = true;
                updateButtons();
                recognition.start();
            }
        }

        function updateButtons() {
            const micBtn = document.getElementById('micBtn');
            const sendBtn = document.getElementById('sendBtn');
            const input = document.getElementById('messageInput');
            const status = document.getElementById('statusText');
            
            if (isListening) {
                micBtn.className = 'px-6 py-3 bg-red-500 text-white rounded-xl animate-pulse';
                micBtn.textContent = 'üé§';
                status.textContent = 'üé§ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á... ‡∏û‡∏π‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢';
            } else {
                micBtn.className = 'px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl hover:from-purple-700 hover:to-blue-700 transition';
                micBtn.textContent = 'üé§';
                status.textContent = '‡∏Å‡∏î‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏π‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°';
            }
            
            const disabled = isAISpeaking || isListening;
            input.disabled = disabled;
            sendBtn.disabled = disabled;
            micBtn.disabled = isAISpeaking;
            
            if (disabled) {
                sendBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                sendBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }

        function resetConversation() {
            messages = [];
            currentScenario = null;
            window.speechSynthesis.cancel();
            
            document.getElementById('scenarioSelection').classList.remove('hidden');
            document.getElementById('conversationView').classList.add('hidden');
            document.getElementById('messageInput').value = '';
        }

        // Event listeners
        document.getElementById('messageInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
        renderScenarios();
        initSpeechRecognition();
    </script>
</body>
</html>
